:root {
  --rainbow-speed: 20s;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  color: #333;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  transform-origin: center;
}

body::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: -1;
  background: linear-gradient(
    -45deg,
    hsl(350, 65%, 88%)    0%,
    hsl(30,  65%, 88%)  6.25%,
    hsl(60,  65%, 88%)  12.5%,
    hsl(200, 65%, 88%)  18.75%,
    hsl(240, 65%, 88%)  25%,
    hsl(280, 65%, 88%)  31.25%,
    hsl(320, 65%, 88%)  37.5%,
    hsl(350, 65%, 88%)  43.75%,
    hsl(350, 65%, 88%)     50%,
    hsl(350, 65%, 88%)     50%,
    hsl(30,  65%, 88%)  56.25%,
    hsl(60,  65%, 88%)  62.5%,
    hsl(200, 65%, 88%)  68.75%,
    hsl(240, 65%, 88%)   75%,
    hsl(280, 65%, 88%)  81.25%,
    hsl(320, 65%, 88%)  87.5%,
    hsl(350, 65%, 88%)  93.75%,
    hsl(350, 65%, 88%)    100%
  );
  background-size: 200% 200%;
  background-repeat: no-repeat;
  animation: bgPan var(--rainbow-speed) linear infinite alternate;
}

@keyframes bgPan {
  from { background-position: 0%   0%; }
  to   { background-position: 100% 100%; }
}

.hidden      { display: none !important; }
.fade-in     { animation: fadeIn  0.2s ease-out forwards; }
.fade-out    { animation: fadeOut 0.2s ease-in  forwards; }
.slide-in    { animation: slideIn  0.2s ease-out forwards; }
.slide-out   { animation: slideOut 0.2s ease-in  forwards; }

@keyframes fadeIn  { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeOut { from { opacity: 1; transform: translateY(0);     } to { opacity: 0; transform: translateY(-10px); } }

@keyframes slideIn  { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
@keyframes slideOut { from { opacity: 1; transform: translateX(0);     } to { opacity: 0; transform: translateX(20px); } }

@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.cascade-item {
  opacity: 0;
  transform: translateY(20px);
  animation: slideUp 0.4s ease-out forwards;
}

.delay-1 { animation-delay: 0.1s; }
.delay-2 { animation-delay: 0.3s; }
.delay-3 { animation-delay: 0.5s; }
.delay-4 { animation-delay: 0.7s; }
.delay-5 { animation-delay: 0.9s; }
.delay-6 { animation-delay: 1.1s; }
.delay-7 { animation-delay: 1.3s; }
.delay-8 { animation-delay: 1.5s; }
.delay-9 { animation-delay: 1.7s; }

#task-list li[data-new] {
  opacity: 0;
  transform: translateY(20px);
  animation: slideUp 0.4s ease-out forwards;
  animation-delay: var(--delay, 0s);
}

.todo-app {
  background: rgba(255, 255, 255, 0.7);
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  width: 100%;
  max-width: 480px;
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.todo-app h1 {
  margin-bottom: 1rem;
  font-size: 1.8rem;
  text-align: center;
}

input[type="text"],
input[type="password"],
input[type="search"] {
  width: 100%;
  padding: 0.6rem;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  transition: box-shadow 0.3s ease-in-out;
}

input:focus {
  outline: none;
  box-shadow: 0 0 0 2px #005fa3;
}

#auth-section { margin-bottom: 1rem; }

#login-form {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

#login-form button {
  width: 100%;
  padding: 0.6rem;
  font-size: 1rem;
  border-radius: 6px;
  background-color: #005fa3;
  color: white;
  border: none;
  cursor: pointer;
  font-weight: 500;
}

#login-form button:hover,
#login-form button:focus {
  background-color: #005fa3;
  outline: none;
}

#task-section {
  background: transparent;
  position: relative;
}

#task-form-wrapper {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

#search-wrapper {
  margin-top: 0.25rem;
  margin-bottom: 0.6rem;
}

#task-form {
  display: flex;
  gap: 0.5rem;
}

button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  padding: 0.6rem 1rem;
  font-size: 1rem;
  font-weight: 500;
  border: none;
  border-radius: 6px;
  background-color: #005fa3;
  color: white;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease;
}

button:hover {
  background-color: #005fa3;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  transform: translateY(-2px);
}

#logout-btn { width: 100%; }

#task-list {
  list-style: none;
  margin-top: 0.5rem;
}

#task-list li {
  background: #fff;
  padding: 0.6rem;
  margin-bottom: 0.5rem;
  border-radius: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background-color 0.3s ease, color 0.3s ease, text-decoration 0.3s ease;
}

#task-list li.completed .title {
  text-decoration: line-through;
  color: #666;
}

#task-list .actions {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

#task-list .actions button {
  padding: 0.6rem 2rem;
  font-size: 0.9rem;
  background-color: #005fa3;
  color: white;
  width: 2rem;
  height: 2rem;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease;
}

#task-list .actions button:hover,
#task-list .actions button:focus {
  background-color: #005fa3;
  transform: scale(1.1);
}

#task-list li.completed .actions button {
  opacity: 0.6;
  box-shadow: none;
}

#task-list li.completed .actions button:hover {
  background-color: #005fa3;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

@media (min-width: 600px) {
  .todo-app { padding: 2rem; }
}

@media (max-width: 600px) {
  .todo-app { padding: 1rem; }
  #task-form { flex-direction: column; }
  button { width: 100%; }
}

#no-tasks-message {
  text-align: center;
  font-size: 1.2rem;
  margin-top: 1rem;
  margin-bottom: 1.5rem;
  color: #444;
  opacity: 1;
  transform: none;
  animation: none;
  position: relative;
  z-index: 10;
  pointer-events: none;
}

#no-tasks-message .subtext {
  display: block;
  font-size: 0.9rem;
  color: #888;
  margin-top: 0.25rem;
}
